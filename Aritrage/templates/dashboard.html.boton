<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Arbitraje BTC</title>

  <!-- Bootstrap normal -->
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
    rel="stylesheet">
  <link 
    href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" 
    rel="stylesheet">

<style>
.dark-mode {
  background-color: #121212 !important;
  color: #e0e0e0 !important;
}
.dark-mode .table {
  color: #e0e0e0;
}
.dark-mode .table-striped>tbody>tr:nth-of-type(odd) {
  background-color: #1f1f1f;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', ()=> {
  const btn = document.getElementById('themeToggle');
  const root = document.body;
  // Carga preferencia
  if (localStorage.getItem('dark-mode') === 'true') {
    root.classList.add('dark-mode');
  }
  btn.addEventListener('click', ()=>{
    root.classList.toggle('dark-mode');
    localStorage.setItem('dark-mode', root.classList.contains('dark-mode'));
  });
});
</script>


</head>
<body>
<button id="themeToggle" class="btn btn-secondary mb-3">
  üåô / ‚òÄÔ∏è
</button>

  <div class="container mt-4">
    <h2 class="mb-4">√öltimas cotizaciones BTC/USD</h2>
    <table id="tbl" class="table table-dark table-striped">
      <thead>
        <tr><th>Exchange</th><th>Bid</th><th>Ask</th></tr>
      </thead>
      <tbody>
        {% for p in prices %}
        <tr>
          <td>{{ p.exchange }}</td>
          <td>{{ "%.2f"|format(p.bid) }}</td>
          <td>{{ "%.2f"|format(p.ask) }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script 
    src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js">
  </script>
  <script>
    $(document).ready(()=>$('#tbl').DataTable());
  </script>
</body>
</html>
